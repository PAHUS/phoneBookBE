{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonList.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","change","onChange","Person","name","number","id","handleDelete","onClick","PersonList","persons","filter","per","toLowerCase","includes","map","baseUrl","axios","get","then","resp","data","newObject","post","response","put","delete","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","App","useState","setPersons","newName","setNewName","newNum","setNewNum","newFilter","setNewFilter","msg","setMsg","col","setCol","useEffect","console","log","personService","res","event","target","type","preventDefault","some","field","window","confirm","person","find","n","newPerson","catch","error","setTimeout","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6120f222.chunk.js","sourcesContent":["import React from 'react'\r\n    const Filter = ({value, change}) => (\r\n        <div>\r\n            Filter shown with: <input value = {value} onChange = {change}></input>\r\n        </div>\r\n        )\r\n    export default Filter","import React from 'react'\r\n    const Person = ({name, number, id, handleDelete}) => (\r\n        <p> {name} {number}<button onClick={() => handleDelete(id)} >delete</button></p>\r\n    )\r\n\r\n    export default Person","import React from 'react'\r\nimport Person from './Person'\r\n    const PersonList = ({persons, filter, handleDelete}) => (\r\n        <>\r\n            {persons.filter(per => per.name.toLowerCase().includes(filter.toLowerCase())).map(per=> \r\n                <Person key = {per.id} id = {per.id} name = {per.name} number = {per.number} handleDelete = {handleDelete}></Person>)}\r\n        </>\r\n    )\r\n\r\n  export default PersonList","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl)\r\n  return req.then(resp => resp.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const deleteEntry = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(resp => resp.data)\r\n  }\r\n\r\nexport default { \r\n    getAll, \r\n    create, \r\n    update,\r\n    deleteEntry \r\n}","import React from 'react'\r\n\r\n    const Notification = ({ message , color}) => {\r\n        const style = {\r\n        color,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n        }\r\n    \r\n        if (message === null) {\r\n        return null\r\n        }\r\n    \r\n        return (\r\n        <div style ={style} className=\"error\">\r\n            {message}\r\n        </div>\r\n        )\r\n    }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonList from './components/PersonList'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ msg, setMsg] = useState(null)\n  const [col, setCol] = useState('red')\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(res => setPersons(res))\n  }, [])\n\n\n  const handleChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleChange2 = (event) => {\n    console.log(event.target.value)\n    setNewNum(event.target.value)\n  }\n  const handleDelete = (id) => {\n    console.log('deleting entry ' + id)\n    if (window.confirm(\"Do you really wish to delete entry?\")) {\n      personService\n      .deleteEntry(id)\n      .then(response => setPersons(persons.filter(per => per.id !== id)))\n    }\n  }\n  const handleChange3 = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n  const submit = (event) => {\n    event.preventDefault()\n    console.log('Includes ', persons.some(field =>field.name === newName))\n\n    if (persons.some(field => field.name === newName)) {\n      if(window.confirm(`${newName} is already added to phonebook, do you wish to change their phonenumber?`)) {\n        const person = persons.find(n => n.name === newName)\n        const id = person.id\n        const newPerson = {...person, number: newNum}\n        personService\n          .update(id, newPerson)\n          .then(response => setPersons(persons.map(person => person.id === id ? response : person)))\n          .catch(error => {\n            setCol('red')\n            setMsg(`${person.name} has already been removed from the server `)\n            setTimeout(() => setMsg(null), 4000)\n          })\n\n      }\n      setNewName('')\n      setNewNum('')\n    } else {\n      console.log('submitting', newName)\n      const personObject = {name: newName, number: newNum}\n      personService\n        .create(personObject)\n        .then(resp => {\n          setPersons(persons.concat(resp))\n          setCol('green')\n          setMsg(`${resp.name} added succesfully`)\n          \n          setTimeout(() => setMsg(null), 4000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setCol('red')\n          setMsg(error.response.data)\n          setTimeout(() => setMsg(null), 4000)\n          \n        })\n      setNewName('')\n      setNewNum('')\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={msg} color={col}/>\n      <form>\n        <div>\n          name: <input value = {newName} onChange = {handleChange}/>\n        </div>\n        <div>\n          number: <input value = {newNum} onChange = {handleChange2}/>\n        </div>\n        <div>\n          <button  type=\"submit\" onClick = {submit} >add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Filter value = {newFilter} change = {handleChange3}/>\n      <PersonList persons = {persons} filter = {newFilter} handleDelete={handleDelete}/>\n      \n    </div>\n  )\n\n  }\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}